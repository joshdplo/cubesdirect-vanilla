<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../../partials/head'); %>
</head>

<body>
  <%- include ('../../partials/header') %>

  <main>
    <h1><%= category.name %></h1>
    <p><%= category.description %></p>
    <hr>
    <ul class="category-products">
      <% products.forEach(product => { %>
      <li>
        <a href="/product/<%= product.id %>"><%= product.name %></a>
      </li>
      <% }) %>
    </ul>

    <nav class="pagination">
      <ul>
        <% if (currentPage > 1) { %>
        <li class="page-item">
          <a class="page-link"
            href="/category/<%= category.id %>?page=<%= currentPage - 1 %>&limit=<%= limit %>">Previous</a>
        </li>
        <% } %>
        <% for( let i = 1; i <= totalPages; i++ ) { %>
        <li class="page-item <%= i === currentPage ? 'active' : '' %>">
          <% if (i === currentPage) { %>
          <span class="page-link"><%= i %></span>
          <% } else { %>
          <a class="page-link" href="/category/<%= category.id %>?page=<%= i %>&limit=<%= limit %>"><%= i %></a>
          <% } %>
        </li>
        <% } %>
        <% if (currentPage < totalPages) { %>
        <li class="page-item">
          <a class="page-link"
            href="/category/<%= category.id %>?page=<%= currentPage + 1 %>&limit=<%= limit %>">Next</a>
        </li>
        <% } %>
      </ul>
    </nav>
  </main>

  <%- include ('../../partials/footer') %>
  <%- include ('../../partials/end') %>
</body>

</html>